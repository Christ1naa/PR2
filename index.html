import React, { useState } from "react";
import { Card, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";

export default function EmissionsCalculator() {
  const [coal, setCoal] = useState(1096363);
  const [oil, setOil] = useState(70945);
  const [gas, setGas] = useState(84762);
  const [results, setResults] = useState(null);

  const calculateEmissions = () => {
    const QrCoal = 20.47; // MJ/kg
    const ArCoal = 25.2; // %
    const etaZu = 0.985; // Efficiency
    const kTvCoal = (ArCoal * 150) / (QrCoal * (1 - etaZu));
    const ECoal = (kTvCoal * coal * QrCoal) / 1e6;

    const QrOil = 40.40; // MJ/kg
    const ArOil = 0.15; // %
    const kTvOil = (ArOil * 150) / (QrOil * (1 - etaZu));
    const EOil = (kTvOil * oil * QrOil) / 1e6;

    setResults({
      coal: { kTv: kTvCoal.toFixed(2), emission: ECoal.toFixed(2) },
      oil: { kTv: kTvOil.toFixed(2), emission: EOil.toFixed(2) },
      gas: { kTv: 0, emission: 0 },
    });
  };

  return (
    <div className="p-6 max-w-lg mx-auto">
      <h1 className="text-xl font-bold mb-4">Веб-калькулятор викидів</h1>
      <Card className="p-4 space-y-3">
        <Input type="number" value={coal} onChange={(e) => setCoal(e.target.value)} placeholder="Вугілля, т" />
        <Input type="number" value={oil} onChange={(e) => setOil(e.target.value)} placeholder="Мазут, т" />
        <Input type="number" value={gas} onChange={(e) => setGas(e.target.value)} placeholder="Природний газ, тис. м³" />
        <Button onClick={calculateEmissions}>Розрахувати</Button>
      </Card>
      {results && (
        <Card className="mt-4 p-4">
          <h2 className="text-lg font-bold">Результати</h2>
          <p>Викиди вугілля: {results.coal.emission} т</p>
          <p>Викиди мазуту: {results.oil.emission} т</p>
          <p>Викиди газу: {results.gas.emission} т</p>
        </Card>
      )}
    </div>
  );
}
